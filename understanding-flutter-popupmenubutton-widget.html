
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ptyagicodecamp.github.io/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://ptyagicodecamp.github.io/theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="https://ptyagicodecamp.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ptyagicodecamp.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ptyagicodecamp.github.io/theme/font-awesome/css/solid.css">

    <link href="https://ptyagicodecamp.github.io/static/custom.css" rel="stylesheet">

    <link href="https://ptyagicodecamp.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="tech&Life Atom">


    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-133714063-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="ptyagi" />
<meta name="description" content="In this article, I&#39;ll show you implementing &#34;Settings&#34; menu using PopupMenuButton Widget as Stateless vs Stateful widget in Flutter for Android, iOS and Web (Hummingbird)." />
<meta name="keywords" content="PopupMenuButton, Navigation, WebView, Cross-platform, Flutter, Hummingbird, Code-recipes, Android, Android Studio, iOS, development">


<meta property="og:site_name" content="tech&Life"/>
<meta property="og:title" content="Understanding Flutter PopupMenuButton Widget"/>
<meta property="og:description" content="In this article, I&#39;ll show you implementing &#34;Settings&#34; menu using PopupMenuButton Widget as Stateless vs Stateful widget in Flutter for Android, iOS and Web (Hummingbird)."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ptyagicodecamp.github.io/understanding-flutter-popupmenubutton-widget.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-07-19 00:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ptyagicodecamp.github.io/author/ptyagi.html">
<meta property="article:section" content="Flutter"/>
<meta property="article:tag" content="PopupMenuButton"/>
<meta property="article:tag" content="Navigation"/>
<meta property="article:tag" content="WebView"/>
<meta property="article:tag" content="Cross-platform"/>
<meta property="article:tag" content="Flutter"/>
<meta property="article:tag" content="Hummingbird"/>
<meta property="article:tag" content="Code-recipes"/>
<meta property="article:tag" content="Android"/>
<meta property="article:tag" content="Android Studio"/>
<meta property="article:tag" content="iOS"/>
<meta property="article:tag" content="development"/>
<meta property="og:image" content="https://ptyagicodecamp.github.io/images/profile.jpg">

  <title>tech&Life &ndash; Understanding Flutter PopupMenuButton Widget</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6359982310050489",
      enable_page_level_ads: true
    });
  </script>
</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://ptyagicodecamp.github.io">
        <img src="https://ptyagicodecamp.github.io/images/profile.jpg" alt="tech&Life" title="tech&Life">
      </a>

      <h1>
        <a href="https://ptyagicodecamp.github.io">tech&Life</a>
      </h1>

<p>Explore | Life | Mobile | Software Engineering</p>

      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="https://www.paypal.me/pritya" >Support</a>
            </li>
            <li>
              <a target="_self" href="https://www.codementor.io/ptyagicodecamp" >Codementor</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/priyankatyagi" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ptyagicodecamp" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a  class="sc-medium" href="https://medium.com/@ptyagicodecamp" target="_blank">
              <i class="fab fa-medium"></i>
            </a>
          </li>
          <li>
            <a  class="sc-twitter" href="https://twitter.com/ptyagi13" target="_blank">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li>
            <a  class="sc-youtube" href="https://www.youtube.com/channel/UCO3_dbHasEnA2dr_U0EhMAA?view_as=subscriber" target="_blank">
              <i class="fab fa-youtube"></i>
            </a>
          </li>
          <li>
            <a  class="sc-codementor" href="https://www.codementor.io/ptyagicodecamp" target="_blank">
              <i class="fab fa-codementor"></i>
            </a>
          </li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="ca-pub-6359982310050489"
           data-ad-slot="8977779775"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </aside>
  <main>

    <nav>
      <a href="https://ptyagicodecamp.github.io">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ptyagicodecamp.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="understanding-flutter-popupmenubutton-widget">Understanding Flutter PopupMenuButton Widget</h1>
    <p>
      Posted on July 19, 2019 in <a href="https://ptyagicodecamp.github.io/category/flutter.html">Flutter</a>

    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="ca-pub-6359982310050489"
         data-ad-slot="6546879945"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <p><strong>Target Audience:</strong> Beginner</p>
<p><strong>Recipe:</strong> Implementing "Settings" menu using PopupMenuButton widget in Stateless vs Stateful manner.</p>
<p><strong>Focus Widget:</strong> <a href="https://api.flutter.dev/flutter/material/PopupMenuButton-class.html">PopupMenuButton Widget</a></p>
<p><strong>Goal:</strong></p>
<ol>
<li>Understanding the difference between Stateful vs Stateless PopupMenuButton widget implementations.</li>
<li>"Settings" menu using PopupMenuButton to display four menu items : 'Home', 'Github', 'Videos' and 'Jobs'.</li>
</ol>
<p><strong>PopupMenuButton (Stateless) workflow:</strong></p>
<p><img alt="PopupMenuButton (Stateless)" src="https://ptyagicodecamp.github.io/popupmenubutton_stateless.jpg"></p>
<p><strong>PopupMenuButton (Stateful) workflow:</strong></p>
<p><img alt="PopupMenuButton" src="https://ptyagicodecamp.github.io/popupmenubutton_stateful.jpg"></p>
<p><strong>Checkout the companion video tutorial:</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ferHTZ6cym4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>In this recipe, I'll show you how to use PopupMenuButton widget as Stateless and Stateful widgets, and when to use one over another.</p>
<p>As we know that Stateless widgets are passed in to values/properties when they're initiated, and don't change thereafter. They are immutable and can't change their properties dynamically. For example, when a screen or page is created as a Stateless widget, it can't update properties or state of its children widgets.</p>
<p>For instance, when you're implementing a counter, and expect a button to update the number of times it's tapped on page's body (Text) widget, you may want to use Stateful widget rather a Stateless widget.</p>
<p>A good example of Stateless widget is <a href="https://api.flutter.dev/flutter/material/RaisedButton-class.html"><code>RaisedButton</code></a>. Certain properties are passed into RaisedButton when initializing, which remains unchanged during the lifecycle of the widget like color, size etc.</p>
<p>For demonstration purposes, I'll create two pages with Settings menu in AppBar. This Settings menu will have few pre-defined menu-items.</p>
<p>First page inherits <code>Stateless</code> widget. Selecting different options from Settings menu, would happily print value on the console, but wouldn't update any other widget on that given page. However, we can navigate to another page when a selection is made.</p>
<p>Second page inherits <code>Stateful</code> widget. Choosing an option from Settings menu will update the selection in body's Text widget of the same screen.</p>
<p>Let's go ahead and implement four menu items ('Home', 'Github', 'Videos' and 'Jobs') for "Settings" menu. In case you're not aware what Settings menu is referred in the Material design world: it's the three vertical dots in top-right corner of 'AppBar'. This page is simple.</p>
<p>It has three main widgets:</p>
<ul>
<li>AppBar: AppBar contains Settings vertical dotted icon.</li>
<li>PopupMenuButton: Settings menu uses this widget to list all options.</li>
<li>Body: Current choice is updated in body part in Text widget.</li>
</ul>
<p>Expected behavior is that whenever a choice is selected in Settings menu, it gets printed page's body area. If "Github" option is selected, then "Github" should be printed in body. We'll also print this chosen selection on console/terminal to make sure that control is coming at the right place.</p>
<h3>PopupMenuButton (Stateless)</h3>
<p>Choosing an option from Settings menu will open the selected link in WebView.</p>
<p><strong>Choosing "Github" option from menu:</strong></p>
<p><img alt="PopupMenuButton (Stateless)" src="https://ptyagicodecamp.github.io/popupmenubutton_2.jpg"></p>
<p><strong>Github link opened in WebView:</strong></p>
<p><img alt="PopupMenuButton (Stateless)" src="https://ptyagicodecamp.github.io/popupmenubutton_4.jpg"></p>
<p>This is how page for Stateless variation of PopupMenuButton would look like:</p>
<div class="highlight"><pre><span></span><code><span class="nt">Widget</span><span class="w"> </span><span class="nt">build</span><span class="o">(</span><span class="nt">BuildContext</span><span class="w"> </span><span class="nt">context</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="err">return</span><span class="w"> </span><span class="err">Scaffold(</span><span class="w"></span>
<span class="w">    </span><span class="n">appBar</span><span class="p">:</span><span class="w"> </span><span class="nf">AppBar</span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="n">title</span><span class="err">:</span><span class="w"> </span><span class="nf">Text</span><span class="p">(</span><span class="s1">&#39;PopupMenuButton (Stateless)&#39;</span><span class="p">),</span><span class="w"></span>
<span class="w">      </span><span class="n">actions</span><span class="err">:</span><span class="w"> </span><span class="err">&lt;</span><span class="n">Widget</span><span class="err">&gt;</span><span class="cp">[</span><span class="w"></span>
<span class="w">        </span><span class="nx">PopupMenuButton</span><span class="p">(</span><span class="w"></span>
<span class="w">          </span><span class="nx">onSelected</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="c1">//print the selected option</span><span class="w"></span>
<span class="w">            </span><span class="nx">print</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span><span class="w"></span>

<span class="w">            </span><span class="c1">//Update the current choice.</span><span class="w"></span>
<span class="w">            </span><span class="c1">//However, this choice won&#39;t be updated in body section since it&#39;s a Stateless widget.</span><span class="w"></span>
<span class="w">            </span><span class="nx">choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value.toString</span><span class="p">();</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="nx">itemBuilder</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="nx">BuildContext</span><span class="w"> </span><span class="nx">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">NavLinks.values.map</span><span class="p">((</span><span class="k">link</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="nx">PopupMenuItem</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="nx">value</span><span class="p">:</span><span class="w"> </span><span class="k">link</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nx">child</span><span class="p">:</span><span class="w"> </span><span class="nx">Text</span><span class="p">(</span><span class="nx">displayString</span><span class="p">(</span><span class="k">link</span><span class="p">)),</span><span class="w"></span>
<span class="w">              </span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="p">})</span><span class="bp">.</span><span class="nx nx-Member">toList</span><span class="p">();</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">),</span><span class="w"></span>
<span class="w">      </span><span class="cp">]</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">body</span><span class="o">:</span><span class="w"> </span><span class="nf">Center</span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="n">child</span><span class="err">:</span><span class="w"> </span><span class="nf">Text</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="o">//</span><span class="n">Print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">choice</span><span class="w"></span>
<span class="w">        </span><span class="n">choice</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="kc">style</span><span class="err">:</span><span class="w"> </span><span class="nf">TextStyle</span><span class="p">(</span><span class="n">fontSize</span><span class="err">:</span><span class="w"> </span><span class="mi">30</span><span class="p">),</span><span class="w"></span>
<span class="w">      </span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>As I've mentioned above, choosing an option can be acknowledged that an option has been picked by printing current selection on console with help of <code>print(value)</code>. In this case body's default text doesn't change. However, current selection is printed on terminal correctly. Basically, this(Stateless) type of widget is not capable of handling state of the widget and does justice to its name being Stateless :)</p>
<p>To make better sense for menu item selection. Let's open those links in a WebView.</p>
<div class="highlight"><pre><span></span><code><span class="nt">onSelected</span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="nt">value</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="err">//print</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">selected</span><span class="w"> </span><span class="err">option</span><span class="w"></span>
<span class="w">            </span><span class="err">print(value)</span><span class="p">;</span><span class="w"></span>

<span class="w">            </span><span class="err">//Update</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">current</span><span class="w"> </span><span class="err">choice.</span><span class="w"></span>
<span class="w">            </span><span class="err">//However,</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">choice</span><span class="w"> </span><span class="err">won&#39;t</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">body</span><span class="w"> </span><span class="err">section</span><span class="w"> </span><span class="err">since</span><span class="w"> </span><span class="err">it&#39;s</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">Stateless</span><span class="w"> </span><span class="err">widget.</span><span class="w"></span>
<span class="w">            </span><span class="err">choice</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">displayString(value)</span><span class="p">;</span><span class="w"></span>

<span class="w">            </span><span class="err">Navigator.pushNamed(context,</span><span class="w"> </span><span class="err">WEBVIEW,</span><span class="w"></span>
<span class="w">                </span><span class="n">arguments</span><span class="p">:</span><span class="w"> </span><span class="nf">WebViewArguments</span><span class="p">(</span><span class="w"></span>
<span class="w">                    </span><span class="n">title</span><span class="err">:</span><span class="w"> </span><span class="nf">displayString</span><span class="p">(</span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">url</span><span class="err">:</span><span class="w"> </span><span class="nf">linkUrl</span><span class="p">(</span><span class="n">value</span><span class="p">)));</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
</code></pre></div>

<p><code>WEBVIEW</code> tells system how to find WebView page. Checkout the <a href="https://github.com/ptyagicodecamp/flutter_cookbook/blob/popupmenubutton/flutter_widgets/lib/router.dart">router.dart</a> to get better understanding of navigation and routing.</p>
<p><strong><em>Note:</em></strong> To open WebView for iOS, you would need to add key <code>io.flutter.embedded_views_preview</code> and value <code>YES</code> in <code>Info.plist</code>.</p>
<p><img alt="iOS WebView" src="https://ptyagicodecamp.github.io/webview_ios.jpg"></p>
<p>Now, let's move on to observe Stateful widget's behavior.</p>
<h3>PopupMenuButton (Stateful)</h3>
<p>Choosing an option from Settings menu will update the <code>Text</code> widget in body of the page.</p>
<p><strong>Choosing "Github" option from menu:</strong></p>
<p><img alt="PopupMenuButton (Stateful)" src="https://ptyagicodecamp.github.io/popupmenubutton_2.jpg"></p>
<p><strong>Displaying selected option Text widget:</strong></p>
<p><img alt="PopupMenuButton (Stateful)" src="https://ptyagicodecamp.github.io/popupmenubutton_3.jpg"></p>
<p>This is how page for Stateful variation of PopupMenuButton would look like:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="n">PopupMenuButtonWidgetStateFul</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="err">@</span><span class="n">override</span><span class="w"></span>
<span class="w">  </span><span class="n">State</span><span class="o">&lt;</span><span class="n">StatefulWidget</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_PopupMenuButtonWidgetState</span><span class="p">();</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">class</span><span class="w"> </span><span class="n">_PopupMenuButtonWidgetState</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">State</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Click Settings to make your selection&quot;</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="err">@</span><span class="n">override</span><span class="w"></span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="n">appBar</span><span class="p">:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;PopupMenuButton (Stateful)&#39;</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">actions</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="n">PopupMenuButton</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="n">onSelected</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">NavLinks</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="o">//</span><span class="nb">print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">option</span><span class="w"></span>
<span class="w">                </span><span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"></span>

<span class="w">                </span><span class="o">//</span><span class="n">Update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">choice</span><span class="o">.</span><span class="w"></span>
<span class="w">                </span><span class="n">choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">displayString</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"></span>
<span class="w">              </span><span class="p">});</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="n">itemBuilder</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">NavLinks</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">link</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">PopupMenuItem</span><span class="p">(</span><span class="w"></span>
<span class="w">                  </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">link</span><span class="p">,</span><span class="w"></span>
<span class="w">                  </span><span class="n">child</span><span class="p">:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">displayString</span><span class="p">(</span><span class="n">link</span><span class="p">)),</span><span class="w"></span>
<span class="w">                </span><span class="p">);</span><span class="w"></span>
<span class="w">              </span><span class="p">})</span><span class="o">.</span><span class="n">toList</span><span class="p">();</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="p">),</span><span class="w"></span>
<span class="w">      </span><span class="n">body</span><span class="p">:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="n">child</span><span class="p">:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">choice</span><span class="p">,</span><span class="w"> </span><span class="n">style</span><span class="p">:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="n">fontSize</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">),),</span><span class="w"></span>
<span class="w">      </span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>Notice the <code>setState()</code> method. All Stateful widgets implement <code>createState()</code> and define a state of the widget that it could be in at a given point of time. A child widget doesn't get updated unless it's being updated inside <code>setState()</code>. You may notice that I'm updating the current selection in <code>setState()</code> method as well.</p>
<p><strong><em>Note:</em></strong> <code>displayString(NavLinks link)</code> and <code>String linkUrl(NavLinks link)</code> are convenience methods.</p>
<h3>Conclusion</h3>
<p>In nutshell, you may want to use <code>Stateful</code> widgets when you want parts of the screen or children widgets to update their values/properties.
<code>Stateless</code> widgets are immutable. They can be used in cases where properties of widgets don't need to be updated frequently, and/or to implement page navigation as we did in above example for navigating to WebView pages for chosen menu item url.</p>
<p><strong>Source code repo:</strong></p>
<ol>
<li>Native Apps (Android / iOS) recipe source code is available <a href="https://github.com/ptyagicodecamp/flutter_cookbook/tree/popupmenubutton/flutter_widgets">here</a></li>
<li>Web Apps (Hummingbird) recipe source code is available <a href="https://github.com/ptyagicodecamp/flutter_cookbook/tree/popupmenubutton-web/flutter_widgets">here</a></li>
</ol>
<h3>References:</h3>
<ol>
<li><a href="https://ptyagicodecamp.github.io/how-to-fix-material-icons-for-flutter-web-hummingbird.html">Hummingbird PopupMenuButton</a></li>
<li><a href="https://api.flutter.dev/flutter/material/PopupMenuButton-class.html">PopupMenuButton Widget</a></li>
<li><a href="https://pub.dev/packages/webview_flutter">WebView for Flutter</a></li>
<li><a href="https://flutterdoc.com/stateful-or-stateless-widgets-42a132e529ed">Stateless Vs Stateful widgets</a></li>
</ol>
<p>Happy cooking with Flutter :)</p>
<p><em>Liked the article ?
Couldn't find a topic of your interest ? Please leave comments or <a href="mailto:ptyagicodecamp@gmail.com">email me</a> about topics you would like me to write !
<a href="https://www.paypal.me/pritya">BTW I love cupcakes and coffee both :)</a></em></p>
<p>Follow me at <a href="https://twitter.com/ptyagi13">twitter</a></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ptyagicodecamp.github.io/tag/popupmenubutton.html">PopupMenuButton</a>
      <a href="https://ptyagicodecamp.github.io/tag/navigation.html">Navigation</a>
      <a href="https://ptyagicodecamp.github.io/tag/webview.html">WebView</a>
      <a href="https://ptyagicodecamp.github.io/tag/cross-platform.html">Cross-platform</a>
      <a href="https://ptyagicodecamp.github.io/tag/flutter.html">Flutter</a>
      <a href="https://ptyagicodecamp.github.io/tag/hummingbird.html">Hummingbird</a>
      <a href="https://ptyagicodecamp.github.io/tag/code-recipes.html">Code-recipes</a>
      <a href="https://ptyagicodecamp.github.io/tag/android.html">Android</a>
      <a href="https://ptyagicodecamp.github.io/tag/android-studio.html">Android Studio</a>
      <a href="https://ptyagicodecamp.github.io/tag/ios.html">iOS</a>
      <a href="https://ptyagicodecamp.github.io/tag/development.html">development</a>
    </p>
  </div>

  <div class="center social-share">
    <p>Like this article? Share it with your friends!</p>
    <div class="addthis_native_toolbox"></div>
    <div class="addthis_sharing_toolbox"></div>
    <div class="addthis_inline_share_toolbox"></div>
  </div>


    <div class="addthis_relatedposts_inline"></div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="ca-pub-6359982310050489"
         data-ad-slot="6546879945"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https-ptyagicodecamp-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>
  &copy; 2022  - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>


    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cf387135c8761da" async="async"></script>


<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " tech&Life ",
  "url" : "https://ptyagicodecamp.github.io",
  "image": "https://ptyagicodecamp.github.io/images/profile.jpg",
  "description": "Mobile engineering tech logger."
}
</script>
<a href="https://github.com/ptyagicodecamp" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

</body>
</html>