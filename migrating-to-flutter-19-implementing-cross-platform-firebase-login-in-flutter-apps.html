
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ptyagicodecamp.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://ptyagicodecamp.github.io/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://ptyagicodecamp.github.io/theme/font-awesome/css/font-awesome.min.css">

    <link href="https://ptyagicodecamp.github.io/static/custom.css" rel="stylesheet">

    <link href="https://ptyagicodecamp.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="techLog Atom">


    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-133714063-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="ptyagi" />
<meta name="description" content="In this article, I&#39;ll show you how Flutter 1.9 release make developing cross-platform Flutter applications simple while maximizing code reuse." />
<meta name="keywords" content="Flutter1.9, Flutter, Code-recipes, Android, Android Studio, iOS, Web, Mobile, Cross-platform">

<meta property="og:site_name" content="techLog"/>
<meta property="og:title" content="Migrating to Flutter 1.9: Implementing Cross-platform Firebase Login in Flutter Apps"/>
<meta property="og:description" content="In this article, I&#39;ll show you how Flutter 1.9 release make developing cross-platform Flutter applications simple while maximizing code reuse."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ptyagicodecamp.github.io/migrating-to-flutter-19-implementing-cross-platform-firebase-login-in-flutter-apps.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-09-23 00:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://ptyagicodecamp.github.io/author/ptyagi.html">
<meta property="article:section" content="Flutter"/>
<meta property="article:tag" content="Flutter1.9"/>
<meta property="article:tag" content="Flutter"/>
<meta property="article:tag" content="Code-recipes"/>
<meta property="article:tag" content="Android"/>
<meta property="article:tag" content="Android Studio"/>
<meta property="article:tag" content="iOS"/>
<meta property="article:tag" content="Web"/>
<meta property="article:tag" content="Mobile"/>
<meta property="article:tag" content="Cross-platform"/>
<meta property="og:image" content="https://ptyagicodecamp.github.io/images/profile.jpg">

  <title>techLog &ndash; Migrating to Flutter 1.9: Implementing Cross-platform Firebase Login in Flutter Apps</title>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6359982310050489",
      enable_page_level_ads: true
    });
  </script>
</head>
<body>
  <aside>
    <div>
      <a href="https://ptyagicodecamp.github.io">
        <img src="https://ptyagicodecamp.github.io/images/profile.jpg" alt="techLog" title="techLog">
      </a>
      <h1><a href="https://ptyagicodecamp.github.io">techLog</a></h1>

<p>Explore | Android | Flutter | Software Engineering</p>
      <nav>
        <ul class="list">

          <li><a href="https://www.paypal.me/pritya" target="_blank">Support</a></li>
          <li><a href="https://www.codementor.io/ptyagicodecamp" target="_blank">Codementor</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/priyankatyagi" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-github" href="https://github.com/ptyagicodecamp" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-medium" href="https://medium.com/@ptyagicodecamp" target="_blank"><i class="fa fa-medium"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/ptyagi13" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-youtube" href="https://www.youtube.com/channel/UCO3_dbHasEnA2dr_U0EhMAA?view_as=subscriber" target="_blank"><i class="fa fa-youtube"></i></a></li>
        <li><a class="sc-codementor" href="https://www.codementor.io/ptyagicodecamp" target="_blank"><i class="fa fa-codementor"></i></a></li>
      </ul>
    </div>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle ads-aside"
           data-ad-client="ca-pub-6359982310050489"
           data-ad-slot="8977779775"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

  </aside>
  <main>

    <nav>
      <a href="https://ptyagicodecamp.github.io">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://ptyagicodecamp.github.io/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="migrating-to-flutter-19-implementing-cross-platform-firebase-login-in-flutter-apps">Migrating to Flutter 1.9: Implementing Cross-platform Firebase Login in Flutter Apps</h1>
    <p>
          Posted on September 23, 2019 in <a href="https://ptyagicodecamp.github.io/category/flutter.html">Flutter</a>


    </p>
  </header>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="ca-pub-6359982310050489"
         data-ad-slot="6546879945"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

  <div>
    <h3>Background</h3>
<p>I've been experimenting with Flutter Web (aka Hummingbird earlier) since it was announced in <a href="https://medium.com/flutter/bringing-flutter-to-the-web-904de05f0df0">Google IO 2019</a>.</p>
<p>I remember submitting <a href="https://github.com/flutter/samples/pull/78">pull request</a> to add instructions for running Flutter sample web apps. Since then I liked the challenge of exploring fast paced and ever changing Flutter Web.</p>
<p>I wrote couple of articles to design and implement a landing page in Flutter which can work seamlessly on all three platforms: Android, iOS and Web. I kept on improving upon this landing page to include login using Firebase, FactsBot, themes, and so on.</p>
<p>Please refer to previous related articles below:</p>
<ol>
<li>
<p><a href="https://ptyagicodecamp.github.io/designing-cross-platform-flutter-prototype-for-landing-page.html">Designing Cross platform Flutter prototype for Landing Page</a></p>
</li>
<li>
<p><a href="https://ptyagicodecamp.github.io/making-cross-platform-flutter-landing-page-responsive.html">Making Cross-platform Flutter Landing Page Responsive</a></p>
</li>
<li>
<p><a href="https://ptyagicodecamp.github.io/using-flutter-themes-for-cross-platform-landing-page-web-hummingbird-android-ios.html">Using Flutter Themes for Cross-platform Landing Page (Web-Hummingbird, Android, iOS)</a></p>
</li>
<li>
<p><a href="https://ptyagicodecamp.github.io/implementing-flutter-factsbot-using-dialogflow.html">Implementing Flutter FactsBot using DialogFlow</a></p>
</li>
<li>
<p><a href="https://ptyagicodecamp.github.io/implementing-login-in-flutter-web-hummingbird.html">Implementing Login in Flutter Web (Hummingbird)</a></p>
</li>
</ol>
<p><strong>Checkout the companion video:</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/e32YsugXa6Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h3>Introduction</h3>
<p>In this article, I'll show you how <a href="https://github.com/flutter/flutter/wiki/Release-Notes-Flutter-1.9.1">Flutter 1.9 release</a> makes developing cross-platform Flutter applications simple while maximizing code reuse. I'll be using <a href="https://github.com/ptyagicodecamp/x-flutter-landingpage/tree/login-web/landingpage">my previous</a> Flutter-to-Fly sample app to demonstrate this transition to Flutter 1.9.</p>
<h3>Migrating project to Flutter 1.9</h3>
<p>There is pretty good documentation on migrating existing project to Flutter 1.9 and / or creating a new Flutter project available on <a href="https://flutter.dev/docs/get-started/web">official Flutter website</a>. Basically, you would need to run these following commands in one directory level up of your project directory:</p>
<div class="highlight"><pre><span></span>  $ flutter channel master
  $ flutter upgrade
  $ flutter config --enable-web
  $ cd &lt;into project directory&gt;
  $ flutter create .
  $flutter run -d chrome
</pre></div>


<p><strong>NOTE:</strong> In case you run into <a href="https://github.com/flutter/flutter/issues/40876#issuecomment-533506158">White screen issue</a>, you may want to change your Flutter channel to <code>flutter channel dev</code>.</p>
<h3>Running X-platform apps from Android Studio</h3>
<p>Starting from Flutter 1.9, you can run apps on Android, iOS, and Chrome right from Android Studio:</p>
<p><img alt="plugins" src="https://ptyagicodecamp.github.io/as_running.jpg"></p>
<h3>Deploying Web App</h3>
<p>Deploying Web App is just a command away:</p>
<div class="highlight"><pre><span></span> $ flutter build web
</pre></div>


<p>Above command will generate a <code>build</code> folder in the root directory. Copy its contents into <code>public</code> directory of your hosting site.</p>
<h3>Launching URL(s)</h3>
<p>So far, we kept web and native codebase in separate branches to manage launching URL in web and mobile environments differently. Flutter 1.9 makes it possible to be able to keep both (web and mobile/native) codebase in one branch, and pick the right implementation by detecting the platform using <code>dart.library.html</code> for web and <code>dart.library.io</code> for mobile platform.</p>
<p>You can organize your code base for <code>plugins</code> as below as recommended by Flutter team:</p>
<p><img alt="plugins" src="https://ptyagicodecamp.github.io/plugins.jpg"></p>
<p>Above screenshot shows two plugins:</p>
<ol>
<li>
<p><code>url_launcher</code>: Managing launching URLs based on target platform. Refer to complete source code <a href="https://github.com/ptyagicodecamp/x-flutter-landingpage/tree/master-x/landingpage/lib/plugins/url_launcher">here</a></p>
</li>
<li>
<p><code>firetop</code>: Manages firebase related functionality for mobile and web platforms. We'll dive deeper into this plugin in next section. Refer to complete source code <a href="https://github.com/ptyagicodecamp/x-flutter-landingpage/tree/master-x/landingpage/lib/plugins/firetop">here</a>.</p>
</li>
</ol>
<p><strong>pubspec.yaml:</strong></p>
<p>Following dependencies are needed for launching URLs from Flutter app.</p>
<div class="highlight"><pre><span></span><span class="n">dependencies</span><span class="o">:</span>
  <span class="n">universal_html</span><span class="o">:</span> <span class="o">^</span><span class="mf">1.1</span><span class="o">.</span><span class="mi">0</span>
  <span class="n">url_launcher</span><span class="o">:</span> <span class="o">^</span><span class="mf">5.1</span><span class="o">.</span><span class="mi">2</span>
</pre></div>


<p>Let's see contents of <code>url_launcher.dart</code> below. This is where target platform is detected and appropriate implementation is used.</p>
<div class="highlight"><pre><span></span>export &#39;unsupported.dart&#39;
    if (dart.library.html) &#39;web.dart&#39;
    if (dart.library.io) &#39;mobile.dart&#39;;
</pre></div>


<h3>Firebase login functionality</h3>
<p>Flutter team is working on <a href="https://pub.dev/packages/fb_auth">fb_auth plugin</a> to provide cross-platform Firebase support.</p>
<p><strong>pubspec.yaml:</strong></p>
<p>Following dependency is needed for adding cross-platform support for Firebase.</p>
<div class="highlight"><pre><span></span><span class="n">dependencies</span><span class="o">:</span>

  <span class="n">fb_auth</span><span class="o">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
</pre></div>


<p>Let's checkout <code>fire_auth_service.dart</code> below. Please refer to <a href="https://github.com/ptyagicodecamp/x-flutter-landingpage/tree/master-x/landingpage/lib/plugins/firetop">source code in Gihub repo</a> to refer other files.</p>
<div class="highlight"><pre><span></span>export &#39;unsupported.dart&#39;
    if (dart.library.html) &#39;web.dart&#39;
    if (dart.library.io) &#39;mobile.dart&#39;;
</pre></div>


<p>You would notice that <code>web.dart</code> and <code>mobile.dart</code> are very similar and use <code>FBAuth()</code> to access Firebase functionality. We still need to keep them separate because not everything is available in <a href="https://pub.dev/packages/fb_auth"><code>fb_auth</code> plugin</a>. For example, <a href="https://github.com/flutter/flutter/issues/40360#issuecomment-531262594">FireStore support is missing</a> for Flutter Web.</p>
<h3>Conclusion</h3>
<p>I kept this article short to give a quick update on most important changes that are happening in Flutter Web world. This article gave a peek into getting started with merging Flutter Web code branches into Native code, and how to target platform specific code. We saw how URLs can be launched for Web and Mobile apps using the same code base. Lastly, we covered integrating with Firebase from the one code base.</p>
<p>Keep Fluttering !</p>
<h3>Source code</h3>
<p>Flutter-to-Fly sample app's source code is <a href="https://github.com/ptyagicodecamp/x-flutter-landingpage/tree/master-x/landingpage">available here</a></p>
<h3>References/Credits:</h3>
<ul>
<li><a href="https://github.com/flutter/flutter/wiki/Release-Notes-Flutter-1.9.1">Flutter 1.9 release</a></li>
<li><a href="https://flutter.dev/docs/get-started/web">Getting started on Flutter Web</a></li>
<li><a href="https://flutter-to-fly.firebaseapp.com/#/">Flutter-to-Fly App</a></li>
<li><a href="https://pub.dev/packages/fb_auth">fb_auth plugin</a></li>
<li><a href="https://pub.dev/packages/universal_html">universal_html plugin</a></li>
<li><a href="https://pub.dev/packages/url_launcher">url_launcher plugin</a></li>
<li><a href="https://ptyagicodecamp.github.io/designing-cross-platform-flutter-prototype-for-landing-page.html">Designing Cross platform Flutter prototype for Landing Page</a></li>
<li><a href="https://ptyagicodecamp.github.io/making-cross-platform-flutter-landing-page-responsive.html">Making Cross-platform Flutter Landing Page Responsive</a></li>
<li><a href="https://ptyagicodecamp.github.io/using-flutter-themes-for-cross-platform-landing-page-web-hummingbird-android-ios.html">Using Flutter Themes for Cross-platform Landing Page (Web-Hummingbird, Android, iOS)</a></li>
<li><a href="https://ptyagicodecamp.github.io/implementing-flutter-factsbot-using-dialogflow.html">Implementing Flutter FactsBot using DialogFlow</a></li>
<li><a href="https://ptyagicodecamp.github.io/implementing-login-in-flutter-web-hummingbird.html">Implementing Login in Flutter Web (Hummingbird)</a></li>
</ul>
<p>Happy cooking with Flutter :)</p>
<p><em>Liked the article ?
Couldn't find a topic of your interest ? Please leave comments or <a href="mailto:ptyagicodecamp@gmail.com">email me</a> about topics you would like me to write !
<a href="https://www.paypal.me/pritya">BTW I love cupcakes and coffee both :)</a></em></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ptyagicodecamp.github.io/tag/flutter19.html">Flutter1.9</a>
      <a href="https://ptyagicodecamp.github.io/tag/flutter.html">Flutter</a>
      <a href="https://ptyagicodecamp.github.io/tag/code-recipes.html">Code-recipes</a>
      <a href="https://ptyagicodecamp.github.io/tag/android.html">Android</a>
      <a href="https://ptyagicodecamp.github.io/tag/android-studio.html">Android Studio</a>
      <a href="https://ptyagicodecamp.github.io/tag/ios.html">iOS</a>
      <a href="https://ptyagicodecamp.github.io/tag/web.html">Web</a>
      <a href="https://ptyagicodecamp.github.io/tag/mobile.html">Mobile</a>
      <a href="https://ptyagicodecamp.github.io/tag/cross-platform.html">Cross-platform</a>
    </p>
  </div>

  <div class="center social-share">
    <p>    Like this article? Share it with your friends!
</p>
    <div class="addthis_native_toolbox"></div>
    <div class="addthis_sharing_toolbox"></div>
    <div class="addthis_inline_share_toolbox"></div>
  </div>


    <div class="addthis_relatedposts_inline"></div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle ads-responsive"
         data-ad-client="ca-pub-6359982310050489"
         data-ad-slot="6546879945"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'https-ptyagicodecamp-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>
  &copy;  2020 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>


    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cf387135c8761da" async="async"></script>


<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " techLog ",
  "url" : "https://ptyagicodecamp.github.io",
  "image": "https://ptyagicodecamp.github.io/images/profile.jpg",
  "description": "Mobile engineering tech logger."
}
</script>

<a href="https://github.com/ptyagicodecamp" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></body>
</html>