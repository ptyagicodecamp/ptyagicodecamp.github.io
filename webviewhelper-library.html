
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://ptyagicodecamp.github.io/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://ptyagicodecamp.github.io/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://ptyagicodecamp.github.io/theme/font-awesome/css/font-awesome.min.css">


    <link href="http://ptyagicodecamp.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="techLog Atom">





<meta name="author" content="ptyagi" />
<meta name="description" content="This post is about Opensource WebViewHelper library at Github" />
<meta name="keywords" content="android, webview, library, open-source, dev">

<meta property="og:site_name" content="techLog"/>
<meta property="og:title" content="WebViewHelper library"/>
<meta property="og:description" content="This post is about Opensource WebViewHelper library at Github"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://ptyagicodecamp.github.io/webviewhelper-library.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-12-16 15:06:00-07:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://ptyagicodecamp.github.io/author/ptyagi.html">
<meta property="article:section" content="Development"/>
<meta property="article:tag" content="android"/>
<meta property="article:tag" content="webview"/>
<meta property="article:tag" content="library"/>
<meta property="article:tag" content="open-source"/>
<meta property="article:tag" content="dev"/>
<meta property="og:image" content="">

  <title>techLog &ndash; WebViewHelper library</title>

</head>
<body>
  <aside>
    <div>
      <a href="http://ptyagicodecamp.github.io">
        <img src="http://ptyagicodecamp.github.io/theme/img/profile.png" alt="" title="">
      </a>
      <h1><a href="http://ptyagicodecamp.github.io"></a></h1>


      <nav>
        <ul class="list">

          <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
        </ul>
      </nav>

      <ul class="social">
      </ul>
    </div>


  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="webviewhelper-library">WebViewHelper library</h1>
    <p>
          Posted on Fri 16 December 2016 in <a href="http://ptyagicodecamp.github.io/category/development.html">Development</a>


    </p>
  </header>


  <div>
    <h3>A little about WebView widgets:</h3>
<p>Webview widget is used to display HTML contents in an Android app. HTML contents can be rendered in a TextView widget using Html.fromHtml() method to parse very basic text. So why do we need WebView widget ? WebView widget is capable of handling more advanced HTML tags, Javascript and CSS, which gives a native feel to HTML contents right in your app. But this doesn't come for free. WebViews are more memory intensive when compared to TextView widget.</p>
<h3>Background:</h3>
<p>Pre Android 4.4, WebView was powered by WebKit. Starting Android 4.4, it’s powered by Chromium. Starting Android 5.0, WebView is distributed through Google Play Store. Starting Android 7.0, WebView uses Chrome browser app or System WebView app when Chrome browser is disabled.</p>
<p>Downside of newer implementation starting Android 5.0: Since System WebView implementation is distributed through Play Store and no more bundled in Android OS, its challenging for OEMs to keep their implementation of WebView in sync with Play Store’s System WebView. The two can go out of sync very quickly.</p>
<h3>Behaviors:</h3>
<ol>
<li>Any links embedded in a WebView widget will open in a WebView in Android 5.0 and over. </li>
<li>On Android 4.4 and below, links embedded in a WebView will open in a Web Browser rather than in a WebView widget</li>
<li>By default, javascript is disabled in WebView widget. It can be turned on by <code>getSettings().setJavaScriptEnabled(true)</code>. I’ve created convenience class <code>WebViewHelper</code> around <code>android.webkit.WebView</code> class features.</li>
</ol>
<h3>Using from Android Studio:</h3>
<p>Add following in your project's <code>build.gradle</code> under <code>dependencies</code> block.</p>
<div class="highlight"><pre><span></span>compile &#39;org.ptyagicodecamp:webview-android:0.0.2&#39;
</pre></div>


<h3>How to use <code>WebViewHelper</code> class ?</h3>
<h5>Initializing</h5>
<p>You would need to pass reference to <code>WebView</code> widget into <code>WebViewHelper</code> like this:</p>
<div class="highlight"><pre><span></span>WebViewHelper webViewHelper;
....

@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        webView = (WebView) findViewById(R.id.webView);
        //initialize WebViewHelper
        webViewHelper = new WebViewHelper(webView);
    }
</pre></div>


<h5>Using library</h5>
<div class="highlight"><pre><span></span>public void loadUrl(View view) {
        webViewHelper.loadUrl(&quot;https://ptyagicodecamp.github.io/&quot;);
    }

    public void loadData(View view) {
        webViewHelper.loadData(&quot;<span class="nt">&lt;html&gt;&lt;a</span> <span class="na">href=</span><span class="s">\&quot;https://ptyagicodecamp.github.io/\&quot;</span><span class="nt">&gt;</span>Click Here to visit my Blog<span class="nt">&lt;/html&gt;</span>&quot;);
    }

    public void toggleJavaScript(View view) {

        if (((ToggleButton)view).isChecked()) {
            webViewHelper.enableJS();
            Toast.makeText(this, &quot;Javascript is enabled&quot;, Toast.LENGTH_LONG).show();
        } else {
            webViewHelper.disableJS();
            Toast.makeText(this, &quot;Javascript is disabled&quot;, Toast.LENGTH_LONG).show();
        }
    }
</pre></div>


<p>Source code is available <a href="https://github.com/ptyagicodecamp/webview-android">here</a>
</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://ptyagicodecamp.github.io/tag/android.html">android</a>
      <a href="http://ptyagicodecamp.github.io/tag/webview.html">webview</a>
      <a href="http://ptyagicodecamp.github.io/tag/library.html">library</a>
      <a href="http://ptyagicodecamp.github.io/tag/open-source.html">open-source</a>
      <a href="http://ptyagicodecamp.github.io/tag/dev.html">dev</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " techLog ",
  "url" : "http://ptyagicodecamp.github.io",
  "image": "",
  "description": ""
}
</script>

</body>
</html>