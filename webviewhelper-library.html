<!DOCTYPE html>
<html lang="en">
<head>
          <title>techLog - WebViewHelper library</title>
        <meta charset="utf-8" />




    <meta name="tags" content="android" />
    <meta name="tags" content="webview" />
    <meta name="tags" content="library" />
    <meta name="tags" content="open-source" />
    <meta name="tags" content="dev" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">techLog <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li class="active"><a href="/category/development.html">Development</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/webviewhelper-library.html" rel="bookmark"
         title="Permalink to WebViewHelper library">WebViewHelper library</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2016-12-16T15:06:00-07:00">
      Fri 16 December 2016
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/ptyagi.html">ptyagi</a>
    </address>
    <div class="category">
        Category: <a href="/category/development.html">Development</a>
    </div>
    <div class="tags">
        Tags:
            <a href="/tag/android.html">android</a>
            <a href="/tag/webview.html">webview</a>
            <a href="/tag/library.html">library</a>
            <a href="/tag/open-source.html">open-source</a>
            <a href="/tag/dev.html">dev</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <h3>A little about WebView widgets:</h3>
<p>Webview widget is used to display HTML contents in an Android app. HTML contents can be rendered in a TextView widget using Html.fromHtml() method to parse very basic text. So why do we need WebView widget ? WebView widget is capable of handling more advanced HTML tags, Javascript and CSS, which gives a native feel to HTML contents right in your app. But this doesn't come for free. WebViews are more memory intensive when compared to TextView widget.</p>
<h3>Background:</h3>
<p>Pre Android 4.4, WebView was powered by WebKit. Starting Android 4.4, it’s powered by Chromium. Starting Android 5.0, WebView is distributed through Google Play Store. Starting Android 7.0, WebView uses Chrome browser app or System WebView app when Chrome browser is disabled.</p>
<p>Downside of newer implementation starting Android 5.0: Since System WebView implementation is distributed through Play Store and no more bundled in Android OS, its challenging for OEMs to keep their implementation of WebView in sync with Play Store’s System WebView. The two can go out of sync very quickly.</p>
<h3>Behaviors:</h3>
<ol>
<li>Any links embedded in a WebView widget will open in a WebView in Android 5.0 and over. </li>
<li>On Android 4.4 and below, links embedded in a WebView will open in a Web Browser rather than in a WebView widget</li>
<li>By default, javascript is disabled in WebView widget. It can be turned on by <code>getSettings().setJavaScriptEnabled(true)</code>. I’ve created convenience class <code>WebViewHelper</code> around <code>android.webkit.WebView</code> class features.</li>
</ol>
<h3>Using from Android Studio:</h3>
<p>Add following in your project's <code>build.gradle</code> under <code>dependencies</code> block.</p>
<div class="highlight"><pre><span></span>compile &#39;org.ptyagicodecamp:webview-android:0.0.2&#39;
</pre></div>


<h3>How to use <code>WebViewHelper</code> class ?</h3>
<h5>Initializing</h5>
<p>You would need to pass reference to <code>WebView</code> widget into <code>WebViewHelper</code> like this:</p>
<div class="highlight"><pre><span></span>WebViewHelper webViewHelper;
....

@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        webView = (WebView) findViewById(R.id.webView);
        //initialize WebViewHelper
        webViewHelper = new WebViewHelper(webView);
    }
</pre></div>


<h5>Using library</h5>
<div class="highlight"><pre><span></span>public void loadUrl(View view) {
        webViewHelper.loadUrl(&quot;https://ptyagicodecamp.github.io/&quot;);
    }

    public void loadData(View view) {
        webViewHelper.loadData(&quot;<span class="nt">&lt;html&gt;&lt;a</span> <span class="na">href=</span><span class="s">\&quot;https://ptyagicodecamp.github.io/\&quot;</span><span class="nt">&gt;</span>Click Here to visit my Blog<span class="nt">&lt;/html&gt;</span>&quot;);
    }

    public void toggleJavaScript(View view) {

        if (((ToggleButton)view).isChecked()) {
            webViewHelper.enableJS();
            Toast.makeText(this, &quot;Javascript is enabled&quot;, Toast.LENGTH_LONG).show();
        } else {
            webViewHelper.disableJS();
            Toast.makeText(this, &quot;Javascript is disabled&quot;, Toast.LENGTH_LONG).show();
        }
    }
</pre></div>


<p>Source code is available <a href="https://github.com/ptyagicodecamp/webview-android">here</a>
</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>