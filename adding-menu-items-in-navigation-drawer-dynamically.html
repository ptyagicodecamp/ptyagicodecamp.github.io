<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Quick code recipe to demonstrate the dynamic addition of menu items in Navigation Drawer." />

    <meta name="author" content="ptyagi" />
    <meta name="copyright" content="ptyagi" />


        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<title>Adding Menu Items in Navigation Drawer Dynamically - </title>

    <!-- iPython Notebook script -->
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
            <script type="text/javascript">
            init_mathjax = function() {
                if (window.MathJax) {
                    // MathJax loaded
                    MathJax.Hub.Config({
                        tex2jax: {
                            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                            displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
                        },
                        displayAlign: 'left', // Change this to 'center' to center equations.
                        "HTML-CSS": {
                            styles: {'.MathJax_Display': {"margin": 0}}
                        }
                    });
                    MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
                }
            }
            init_mathjax();
        </script>
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

      <!-- iPython Notebook script for collapsing and expanding code -->
        <script type="text/javascript">
        jQuery(document).ready(function($) {
            $("div.collapseheader").click(function () {
            $header = $(this).children("span").first();
            $codearea = $(this).children(".input_area");
            console.log($(this).children());
            $codearea.slideToggle(500, function () {
                $header.text(function () {
                    return $codearea.is(":visible") ? "Collapse Code" : "Expand Code";
                });
            });
        });
        });
        </script>
        <script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
    <!-- Bootstrap Core CSS -->
    <link href="/theme/css/bootstrap.min.css" rel="stylesheet">

         <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="/theme/css/materialize.min.css">

     <!-- Compiled and minified JavaScript -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>

    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="/theme/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Arvo" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Permanent+Marker|Pacifico|Nova+Round|EB+Garamond|Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lobster+Two' rel='stylesheet' type='text/css'>
    <!-- Custom CSS -->
    <link href="/theme/css/pelican-smoothie.css" rel="stylesheet">
    <link href="/theme/css/pygment.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/tipuesearch/tipuesearch.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


<script>
    mixpanel.track("Page", {"Name": "Adding Menu Items in Navigation Drawer Dynamically", "url": "adding-menu-items-in-navigation-drawer-dynamically.html"  }) ;
</script>
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

   <div class="search-button">
            <form id="search" class="floating-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);">
            <input type="search" class="search-query" placeholder="Search" name="q"></form>
       </div>




    <div class="content-block">

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header-article" style="background-image: url('');">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-sm-2 fixed-action-btn">
                    <a href='/blog' class="btn-floating btn-large white page-scroll">
                      <i class="md-dark material-icons">keyboard_arrow_left</i>
                    </a>
                    </div>
                    <div class="col-sm-10 col-sm-offset-1">
                    <h1 class="article-heading">Adding Menu Items in Navigation Drawer Dynamically</h1>
                        <h2 class="article-subheading"> </h2>
<span class="meta last-updated">
Published on 
<time pubdate="pubdate" datetime="2017-04-19T00:00:00-06:00">Apr 19, 2017</time>
</span>                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1">
                    <div class="entry-content">
                    <h1>Adding Menu Items in Navigation Drawer Dynamically</h1>
<h2>Introduction</h2>
<p>Android Studio provides support to add Navigation Drawer Activity from IDE itself. With such Activity,
it automatically generates menu items for navigation drawer in form of a xml file resource located
inside <code>res/menu</code> directory. By default, this xml file is named <code>activity_main_drawer.xml</code>, and contains
menu items statically like this:</p>
<div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;menu</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;group</span> <span class="na">android:checkableBehavior=</span><span class="s">&quot;single&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;item</span>
            <span class="na">android:id=</span><span class="s">&quot;@+id/nav_camera&quot;</span>
            <span class="na">android:icon=</span><span class="s">&quot;@drawable/ic_menu_camera&quot;</span>
            <span class="na">android:title=</span><span class="s">&quot;Import&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;item</span>
            <span class="na">android:id=</span><span class="s">&quot;@+id/nav_gallery&quot;</span>
            <span class="na">android:icon=</span><span class="s">&quot;@drawable/ic_menu_gallery&quot;</span>
            <span class="na">android:title=</span><span class="s">&quot;Gallery&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;item</span>
            <span class="na">android:id=</span><span class="s">&quot;@+id/nav_slideshow&quot;</span>
            <span class="na">android:icon=</span><span class="s">&quot;@drawable/ic_menu_slideshow&quot;</span>
            <span class="na">android:title=</span><span class="s">&quot;Slideshow&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;item</span>
            <span class="na">android:id=</span><span class="s">&quot;@+id/nav_manage&quot;</span>
            <span class="na">android:icon=</span><span class="s">&quot;@drawable/ic_menu_manage&quot;</span>
            <span class="na">android:title=</span><span class="s">&quot;Tools&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/group&gt;</span>

    <span class="nt">&lt;item</span> <span class="na">android:title=</span><span class="s">&quot;Communicate&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;menu&gt;</span>
            <span class="nt">&lt;item</span>
                <span class="na">android:id=</span><span class="s">&quot;@+id/nav_share&quot;</span>
                <span class="na">android:icon=</span><span class="s">&quot;@drawable/ic_menu_share&quot;</span>
                <span class="na">android:title=</span><span class="s">&quot;Share&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;item</span>
                <span class="na">android:id=</span><span class="s">&quot;@+id/nav_send&quot;</span>
                <span class="na">android:icon=</span><span class="s">&quot;@drawable/ic_menu_send&quot;</span>
                <span class="na">android:title=</span><span class="s">&quot;Send&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/menu&gt;</span>
    <span class="nt">&lt;/item&gt;</span>

<span class="nt">&lt;/menu&gt;</span>
</pre></div>


<p>What if you want to generate or add more menu items dynamically ? If you're like me, then you would
not want to have support to add menu items without making changes in static file. One reason for doing so
is to be able to read new menu items data from remote servers and generate UI on the fly. In other words,
automating UI generation !</p>
<p>Actually, its pretty simple to do so !</p>
<h4>Show me code</h4>
<p>Here’s code that’s responsible for generating new menu items on the fly.</p>
<div class="highlight"><pre><span></span>private void addMenuItemInNavMenuDrawer() {
    NavigationView navView = (NavigationView) findViewById(R.id.nav_view);

    Menu menu = navView.getMenu();
    Menu submenu = menu.addSubMenu(&quot;New Super SubMenu&quot;);

    submenu.add(&quot;Super Item1&quot;);
    submenu.add(&quot;Super Item2&quot;);
    submenu.add(&quot;Super Item3&quot;);

    navView.invalidate();
}
</pre></div>


<p>Call <code>addMenuItemInNavMenuDrawer</code> in <code>onCreate()</code> method before launching your app.</p>
<div class="highlight"><pre><span></span>@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ....

        NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);
        navigationView.setNavigationItemSelectedListener(this);

        addMenuItemInNavMenuDrawer();
    }
</pre></div>


<p>And that's pretty much it !</p>
<h5>Before Adding New Submenu</h5>
<p><a href="https://github.com/ptyagicodecamp/ptyagicodecamp.github.io/blob/master/images/navdrawermenu/before_adding_menus.png">Here's</a>
how Navigation drawer looks like before adding new sub menu.</p>
<h5>After Adding New Submenu</h5>
<p><a href="https://github.com/ptyagicodecamp/ptyagicodecamp.github.io/blob/master/images/navdrawermenu/after_adding_menus.png">Here's</a> Navigation Drawer after adding brand new submenu.</p>
<p>You can checkout source code at <a href="https://github.com/ptyagicodecamp/android-recipes/tree/develop/NavDrawerDynamicMenu">github here</a></p>
                    </div>
                </div>
            </div>
        </div>
    </article>

    <hr>

    </div>

    <!-- Footer -->
    <footer>
    <div id="footer" class="container text-center">
            </div>
    </footer>

    <!-- jQuery -->
    <script src="/theme/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/theme/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="/theme/js/jquery.easing.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="/theme/js/pelican-smoothie.js"></script>
    <script type="text/javascript" src="/theme/tipuesearch/tipuesearch_set.js"></script>
    <script type="text/javascript" src="/theme/tipuesearch/tipuesearch.min.js"></script>
    <script>
    // jQuery to change FAB
    $(window).scroll(function() {
            var scroll = $(window).scrollTop();
          if (scroll > window.innerHeight/6 ) {
            $(".fixed-action-btn").addClass("scrolled");
            $(".fixed-action-btn a.btn-large").attr("href", "#page-top")
            $('.fixed-action-btn .btn-large .material-icons').text('keyboard_arrow_up');
            $('.fixed-action-btn .btn-large').addClass('customcolor');
            $('.fixed-action-btn .btn-large').removeClass('white');
            $('.fixed-action-btn a.btn-large i').addClass('md-light');
            $('.fixed-action-btn a.btn-large i').removeClass('md-dark');
        }
          if (scroll > 200 ) {
            $(".fixed-action-btn").addClass("scrolled");
            $(".fixed-action-btn a.btn-large").attr("href", "#page-top")
            $('.fixed-action-btn .btn-large .material-icons').text('keyboard_arrow_up');
            $('.fixed-action-btn .btn-large').addClass('customcolor');
            $('.fixed-action-btn .btn-large').removeClass('white');
            $('.fixed-action-btn a.btn-large i').addClass('md-light');
            $('.fixed-action-btn a.btn-large i').removeClass('md-dark');
        }
          if (scroll < window.innerHeight/6 ) {
            $(".fixed-action-btn").removeClass("scrolled");
            $(".fixed-action-btn a.btn-large").attr("href", "/blog")
            $('.fixed-action-btn .btn-large .material-icons').text('keyboard_arrow_left');
            $('.fixed-action-btn .btn-large').removeClass('customcolor');
            $('.fixed-action-btn .btn-large').addClass('white');
            $('.fixed-action-btn a.btn-large i').removeClass('md-light');
            $('.fixed-action-btn a.btn-large i').addClass('md-dark');
        }
    });
    </script>

</body>
</html>
